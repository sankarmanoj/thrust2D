==18762== NVPROF is profiling process 18762, command: ./thrust_particle_filter -x 128 -y 128 -z 1000 -np 10000
==18762== Profiling application: ./thrust_particle_filter -x 128 -y 128 -z 1000 -np 10000
==18762== Profiling result:
Time(%)      Time     Calls       Avg       Min       Max  Name
 77.80%  3.94128s       999  3.9452ms  3.1990ms  3.9627ms  void thrust::binary_transform_kernel<double, double, int, get_indexYOYOYOYO>(long, double*, double*, int*, get_indexYOYOYOYO)
 11.07%  560.82ms       999  561.38us  543.78us  592.32us  void thrust::binary_transform_kernel<double, int, double, calc_likelihood_sumYOYOYOYO>(long, double*, int*, double*, calc_likelihood_sumYOYOYOYO)
  8.01%  405.75ms       999  406.16us  395.30us  414.75us  void thrust::for_each_kernel<int, ind_calcYOYOYOYO>(long, int*, ind_calcYOYOYOYO)
  1.30%  65.942ms       999  66.008us  64.896us  67.104us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=512, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=3>, unsigned long=512>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::scan_detail::inclusive_scan_n, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=1>, thrust::detail::normal_iterator<thrust::device_ptr<double>>, long, thrust::detail::normal_iterator<thrust::device_ptr<double>>, thrust::plus<double>, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=3)
  0.33%  16.552ms      1998  8.2840us  6.8480us  9.8240us  void thrust::binary_transform_kernel<double, int, double, randn_transformYOYOYOYO>(long, double*, int*, double*, randn_transformYOYOYOYO)
  0.29%  14.832ms      2003  7.4050us     928ns  12.815ms  [CUDA memcpy HtoD]
  0.23%  11.880ms       999  11.891us  11.616us  12.128us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=128, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=7>, unsigned long=128>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::reduce_detail::reduce_partitions, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=1>, thrust::detail::normal_iterator<thrust::device_ptr<double>>, thrust::system::cuda::detail::aligned_decomposition<long>, thrust::detail::normal_iterator<thrust::pointer<double, thrust::system::cuda::detail::tag, thrust::use_default, thrust::use_default>>, double, thrust::plus<double>, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=7)
  0.19%  9.6409ms       999  9.6500us  9.2160us  10.304us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=128, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=7>, unsigned long=128>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::reduce_detail::reduce_partitions, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=1>, thrust::detail::normal_iterator<thrust::pointer<double, thrust::system::cuda::detail::tag, thrust::use_default, thrust::use_default>>, thrust::detail::normal_iterator<thrust::pointer<double, thrust::system::cuda::detail::tag, thrust::use_default, thrust::use_default>>, thrust::detail::normal_iterator<thrust::pointer<double, thrust::system::cuda::detail::tag, thrust::use_default, thrust::use_default>>, thrust::plus<double>, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=7)
  0.18%  9.2809ms      3999  2.3200us  2.1440us  15.456us  [CUDA memcpy DtoH]
  0.15%  7.5855ms      1998  3.7960us  3.3600us  4.2880us  void thrust::for_each_kernel<double, normalize_weightsYOYOYOYO>(long, double*, normalize_weightsYOYOYOYO)
  0.15%  7.5723ms      1998  3.7890us  3.0400us  4.2560us  void thrust::binary_transform_kernel<double, int, double, update_coordsYOYOYOYO>(long, double*, int*, double*, update_coordsYOYOYOYO)
  0.09%  4.3458ms       999  4.3500us  4.0320us  4.8000us  void thrust::for_each_kernel<double, update_uYOYOYOYO>(long, double*, update_uYOYOYOYO)
  0.09%  4.3231ms       999  4.3270us  4.1280us  4.5120us  void thrust::binary_transform_kernel<double, double, double, exp_transformYOYOYOYO>(long, double*, double*, double*, exp_transformYOYOYOYO)
  0.06%  3.0996ms       999  3.1020us  2.9120us  3.2640us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=0, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=1>, unsigned long=0>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::for_each_n_detail::for_each_kernel, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=0>, thrust::zip_iterator<thrust::tuple<thrust::counting_iterator<long, thrust::use_default, thrust::use_default, long>, thrust::detail::normal_iterator<thrust::device_ptr<double>>, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>, thrust::detail::wrapped_function<thrust::detail::unary_transform_functor<thrust::system::detail::generic::sequence_detail::sequence_functor<double>>, void>, unsigned int, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=1)
  0.06%  2.9481ms       999  2.9510us  2.8160us  3.1680us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=0, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=1>, unsigned long=0>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::for_each_n_detail::for_each_kernel, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=0>, thrust::detail::normal_iterator<thrust::device_ptr<double>>, thrust::detail::wrapped_function<thrust::detail::device_generate_functor<thrust::detail::fill_functor<double>>, void>, unsigned int, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=1)
  0.00%  22.432us         3  7.4770us  2.7200us  16.736us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=0, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=1>, unsigned long=0>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::for_each_n_detail::for_each_kernel, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=0>, thrust::device_ptr<int>, thrust::detail::wrapped_function<thrust::detail::device_generate_functor<thrust::detail::fill_functor<int>>, void>, unsigned int, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=1)
  0.00%  16.224us         6  2.7040us  2.4000us  3.4880us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=0, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=1>, unsigned long=0>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::for_each_n_detail::for_each_kernel, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=0>, thrust::device_ptr<double>, thrust::detail::wrapped_function<thrust::detail::device_generate_functor<thrust::detail::fill_functor<double>>, void>, unsigned int, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=1)
  0.00%  3.2320us         1  3.2320us  3.2320us  3.2320us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=0, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=1>, unsigned long=0>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::for_each_n_detail::for_each_kernel, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=0>, thrust::zip_iterator<thrust::tuple<thrust::counting_iterator<long, thrust::use_default, thrust::use_default, long>, thrust::detail::normal_iterator<thrust::device_ptr<int>>, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>, thrust::detail::wrapped_function<thrust::detail::unary_transform_functor<thrust::system::detail::generic::sequence_detail::sequence_functor<int>>, void>, unsigned int, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=1)

==18762== API calls:
Time(%)      Time     Calls       Avg       Min       Max  Name
 38.81%  3.92610s      1013  3.8757ms  9.9130us  3.91323s  cudaMalloc
 33.27%  3.36548s     10989  306.26us  273.45us  1.3608ms  cudaGetDeviceProperties
 23.14%  2.34052s       999  2.3429ms  7.0800us  2.6133ms  cudaEventSynchronize
  2.24%  226.99ms     15994  14.192us  9.8820us  1.3082ms  cudaLaunch
  1.58%  160.07ms      6002  26.669us  4.9500us  13.911ms  cudaMemcpyAsync
  0.38%  38.022ms     14026  2.7100us  2.2410us  808.24us  cudaFuncGetAttributes
  0.12%  12.456ms     51958     239ns     165ns  5.3530us  cudaSetupArgument
  0.09%  9.3228ms     15994     582ns     301ns  716.72us  cudaConfigureCall
  0.09%  9.2269ms      1013  9.1080us  6.3370us  183.28us  cudaFree
  0.09%  9.1145ms      5005  1.8210us  1.3680us  9.7930us  cudaEventCreateWithFlags
  0.07%  6.7675ms     13017     519ns     330ns  18.620us  cudaGetDevice
  0.06%  5.6069ms      5005  1.1200us     898ns  6.5640us  cudaEventRecord
  0.05%  5.4670ms      5005  1.0920us     784ns  8.1690us  cudaEventDestroy
  0.01%  940.83us       166  5.6670us     291ns  201.75us  cuDeviceGetAttribute
  0.00%  114.80us         2  57.398us  54.272us  60.524us  cuDeviceTotalMem
  0.00%  95.038us         2  47.519us  42.091us  52.947us  cuDeviceGetName
  0.00%  14.277us        11  1.2970us     750ns  5.6100us  cudaDeviceGetAttribute
  0.00%  5.4330us         2  2.7160us     820ns  4.6130us  cuDeviceGetCount
  0.00%  2.6670us         4     666ns     420ns     933ns  cuDeviceGet
