==18491== NVPROF is profiling process 18491, command: ./thrust_particle_filter -x 128 -y 128 -z 1000 -np 10000
==18491== Profiling application: ./thrust_particle_filter -x 128 -y 128 -z 1000 -np 10000
==18491== Profiling result:
Time(%)      Time     Calls       Avg       Min       Max  Name
 77.80%  3.94094s       999  3.9449ms  3.5797ms  3.9624ms  void thrust::binary_transform_kernel<double, double, int, get_indexYOYOYOYO>(long, double*, double*, int*, get_indexYOYOYOYO)
 11.08%  561.24ms       999  561.80us  547.20us  590.05us  void thrust::binary_transform_kernel<double, int, double, calc_likelihood_sumYOYOYOYO>(long, double*, int*, double*, calc_likelihood_sumYOYOYOYO)
  8.15%  412.62ms       999  413.04us  402.46us  423.33us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=0, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=1>, unsigned long=0>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::for_each_n_detail::for_each_kernel, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=0>, thrust::detail::normal_iterator<thrust::device_ptr<int>>, thrust::detail::wrapped_function<ind_calcYOYOYOYO, void>, unsigned int, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=1)
  1.30%  65.653ms       999  65.719us  64.832us  66.688us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=512, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=3>, unsigned long=512>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::scan_detail::inclusive_scan_n, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=1>, thrust::detail::normal_iterator<thrust::device_ptr<double>>, long, thrust::detail::normal_iterator<thrust::device_ptr<double>>, thrust::plus<double>, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=3)
  0.33%  16.820ms      1998  8.4180us  6.8480us  10.048us  void thrust::binary_transform_kernel<double, int, double, randn_transformYOYOYOYO>(long, double*, int*, double*, randn_transformYOYOYOYO)
  0.23%  11.895ms       999  11.907us  11.616us  12.352us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=128, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=7>, unsigned long=128>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::reduce_detail::reduce_partitions, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=1>, thrust::detail::normal_iterator<thrust::device_ptr<double>>, thrust::system::cuda::detail::aligned_decomposition<long>, thrust::detail::normal_iterator<thrust::pointer<double, thrust::system::cuda::detail::tag, thrust::use_default, thrust::use_default>>, double, thrust::plus<double>, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=7)
  0.20%  9.9610ms       999  9.9700us  9.5040us  10.496us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=128, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=7>, unsigned long=128>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::reduce_detail::reduce_partitions, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=1>, thrust::detail::normal_iterator<thrust::pointer<double, thrust::system::cuda::detail::tag, thrust::use_default, thrust::use_default>>, thrust::detail::normal_iterator<thrust::pointer<double, thrust::system::cuda::detail::tag, thrust::use_default, thrust::use_default>>, thrust::detail::normal_iterator<thrust::pointer<double, thrust::system::cuda::detail::tag, thrust::use_default, thrust::use_default>>, thrust::plus<double>, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=7)
  0.17%  8.7615ms      3999  2.1900us  1.9840us  14.336us  [CUDA memcpy DtoH]
  0.16%  8.0044ms      2003  3.9960us     864ns  6.1247ms  [CUDA memcpy HtoD]
  0.15%  7.6389ms      1998  3.8230us  3.3600us  4.2240us  void thrust::for_each_kernel<double, normalize_weightsYOYOYOYO>(long, double*, normalize_weightsYOYOYOYO)
  0.15%  7.6072ms      1998  3.8070us  3.0720us  4.3520us  void thrust::binary_transform_kernel<double, int, double, update_coordsYOYOYOYO>(long, double*, int*, double*, update_coordsYOYOYOYO)
  0.09%  4.3410ms       999  4.3450us  4.1280us  4.5440us  void thrust::binary_transform_kernel<double, double, double, exp_transformYOYOYOYO>(long, double*, double*, double*, exp_transformYOYOYOYO)
  0.09%  4.3118ms       999  4.3160us  3.9680us  4.7040us  void thrust::for_each_kernel<double, update_uYOYOYOYO>(long, double*, update_uYOYOYOYO)
  0.06%  3.0759ms       999  3.0780us  2.8800us  3.2640us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=0, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=1>, unsigned long=0>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::for_each_n_detail::for_each_kernel, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=0>, thrust::zip_iterator<thrust::tuple<thrust::counting_iterator<long, thrust::use_default, thrust::use_default, long>, thrust::detail::normal_iterator<thrust::device_ptr<double>>, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>, thrust::detail::wrapped_function<thrust::detail::unary_transform_functor<thrust::system::detail::generic::sequence_detail::sequence_functor<double>>, void>, unsigned int, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=1)
  0.06%  2.8777ms       999  2.8800us  2.7200us  3.0720us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=0, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=1>, unsigned long=0>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::for_each_n_detail::for_each_kernel, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=0>, thrust::detail::normal_iterator<thrust::device_ptr<double>>, thrust::detail::wrapped_function<thrust::detail::device_generate_functor<thrust::detail::fill_functor<double>>, void>, unsigned int, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=1)
  0.00%  22.272us         3  7.4240us  2.7200us  16.640us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=0, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=1>, unsigned long=0>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::for_each_n_detail::for_each_kernel, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=0>, thrust::device_ptr<int>, thrust::detail::wrapped_function<thrust::detail::device_generate_functor<thrust::detail::fill_functor<int>>, void>, unsigned int, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=1)
  0.00%  15.872us         6  2.6450us  2.4000us  3.5200us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=0, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=1>, unsigned long=0>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::for_each_n_detail::for_each_kernel, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=0>, thrust::device_ptr<double>, thrust::detail::wrapped_function<thrust::detail::device_generate_functor<thrust::detail::fill_functor<double>>, void>, unsigned int, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=1)
  0.00%  3.1680us         1  3.1680us  3.1680us  3.1680us  void thrust::system::cuda::detail::bulk_::detail::launch_by_value<unsigned int=0, thrust::system::cuda::detail::bulk_::detail::cuda_task<thrust::system::cuda::detail::bulk_::parallel_group<thrust::system::cuda::detail::bulk_::concurrent_group<thrust::system::cuda::detail::bulk_::agent<unsigned long=1>, unsigned long=0>, unsigned long=0>, thrust::system::cuda::detail::bulk_::detail::closure<thrust::system::cuda::detail::for_each_n_detail::for_each_kernel, thrust::tuple<thrust::system::cuda::detail::bulk_::detail::cursor<unsigned int=0>, thrust::zip_iterator<thrust::tuple<thrust::counting_iterator<long, thrust::use_default, thrust::use_default, long>, thrust::detail::normal_iterator<thrust::device_ptr<int>>, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>, thrust::detail::wrapped_function<thrust::detail::unary_transform_functor<thrust::system::detail::generic::sequence_detail::sequence_functor<int>>, void>, unsigned int, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>>>>(unsigned long=1)

==18491== API calls:
Time(%)      Time     Calls       Avg       Min       Max  Name
 39.08%  3.95196s      1013  3.9012ms  9.0160us  3.94018s  cudaMalloc
 29.70%  3.00318s      9990  300.62us  275.03us  3.4808ms  cudaGetDeviceProperties
 26.43%  2.67280s       999  2.6755ms  10.177us  2.8681ms  cudaEventSynchronize
  2.23%  225.09ms     15994  14.073us  9.5990us  526.52us  cudaLaunch
  1.45%  146.96ms      6002  24.484us  4.7770us  6.6362ms  cudaMemcpyAsync
  0.46%  46.436ms     18022  2.5760us  2.1870us  14.646us  cudaFuncGetAttributes
  0.13%  13.265ms     49960     265ns     181ns  12.047us  cudaSetupArgument
  0.11%  11.514ms      6004  1.9170us  1.3420us  532.62us  cudaEventCreateWithFlags
  0.09%  9.1883ms      1013  9.0700us  6.1700us  178.08us  cudaFree
  0.08%  8.4848ms     16014     529ns     335ns  5.5730us  cudaGetDevice
  0.08%  8.0654ms     15994     504ns     278ns  526.19us  cudaConfigureCall
  0.07%  7.0416ms      6004  1.1720us     867ns  464.45us  cudaEventRecord
  0.06%  6.1533ms      6004  1.0240us     753ns  12.387us  cudaEventDestroy
  0.01%  895.07us       166  5.3910us     294ns  201.14us  cuDeviceGetAttribute
  0.00%  123.70us         2  61.847us  42.586us  81.109us  cuDeviceGetName
  0.00%  110.12us         2  55.060us  54.463us  55.657us  cuDeviceTotalMem
  0.00%  8.5720us        11     779ns     411ns  3.4380us  cudaDeviceGetAttribute
  0.00%  6.1230us         2  3.0610us  1.5000us  4.6230us  cuDeviceGetCount
  0.00%  4.5010us         4  1.1250us     445ns  2.4860us  cuDeviceGet
